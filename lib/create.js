(function(a,b){if('function'==typeof define&&define.amd)define(['exports','./set_request','./manage_headers','./get_CSRF','./create_promise'],b);else if('undefined'!=typeof exports)b(exports,require('./set_request'),require('./manage_headers'),require('./get_CSRF'),require('./create_promise'));else{var c={exports:{}};b(c.exports,a.set_request,a.manage_headers,a.get_CSRF,a.create_promise),a.create=c.exports}})(this,function(a,b,c,d,e){'use strict';function f(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(a,'__esModule',{value:!0}),a.default=function(k){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,m=void 0,n=void 0,o=void 0,p=void 0;return p=(0,i.default)(),o=(0,h.default)(),o.addCSRF(p.token),l&&o.addRails(),m=(0,j.default)(),n=(0,g.default)(m.resolve,m.reject),n.open('POST',k),o.set(n.get()),function(q){return q[p.param]=p.token,n.send(q),m.promise}};var g=f(b),h=f(c),i=f(d),j=f(e)});